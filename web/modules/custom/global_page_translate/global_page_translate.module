<?php

/**
 * Implements hook_theme().
 */
function global_page_translate_theme() {
  return [
    'global_page_translate_button' => [
      'template' => 'global-page-translate-button',
    ],
  ];
}

/**
 * Implements hook_page_attachments().
 */
function global_page_translate_page_attachments(array &$attachments) {
  // ✅ Solo se añade una vez la librería correcta:
  $attachments['#attached']['library'][] = 'global_page_translate/translate_button';
}

/**
 * Implements hook_block_info().
 */
function global_page_translate_block_info() {
  $blocks = [];
  $blocks['global_translate_button'] = [
    'info' => t('Botón de traducción global'),
  ];
  return $blocks;
}

/**
 * Implements hook_block_view().
 */
function global_page_translate_block_view($delta = '') {
  $block = [];

  if ($delta == 'global_translate_button') {
    $block['content'] = [
      '#theme' => 'global_page_translate_button',
    ];
  }

  return $block;
}
